<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Primeiro Acesso - Criar Senha</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>Primeiro Acesso</h2>
        <p>Para sua segurança, precisamos verificar seu e-mail:</p>
        
        <form id="verificarEmailForm">
            <div class="form-group">
                <label for="re">RE:</label>
                <input type="text" id="re" readonly>
            </div>
            <div class="form-group">
                <label for="nome">Nome:</label>
                <span id="nome" class="info-value-static"></span>
            </div>
            <div class="form-group">
                <label for="emailCadastrado">E-mail Cadastrado:</label>
                <span id="emailCadastrado" class="info-value-static"></span>
            </div>
            <div class="form-group">
                <label for="emailConfirmacao">Digite seu e-mail para confirmar:</label>
                <input type="email" id="emailConfirmacao" required placeholder="Digite o e-mail acima">
            </div>
            <button type="submit">Enviar Senha Temporária</button>
        </form>

        <form id="trocarSenhaForm" style="display: none;">
            <div class="form-group">
                <label for="senhaTemporaria">Senha Temporária (enviada por e-mail):</label>
                <input type="password" id="senhaTemporaria" required placeholder="Cole a senha do e-mail">
            </div>
            <div class="form-group">
                <label for="novaSenha">Nova Senha:</label>
                <input type="password" id="novaSenha" required placeholder="Mínimo 8 caracteres" 
                       pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
                <small>Deve conter: maiúscula, minúscula, número, caractere especial (@$!%*?&)</small>
            </div>
            <div class="form-group">
                <label for="confirmarSenha">Confirmar Nova Senha:</label>
                <input type="password" id="confirmarSenha" required placeholder="Repita a nova senha">
            </div>
            <div class="password-strength" id="passwordStrength">
                <div class="strength-bar"></div>
                <div class="strength-text">Força da senha: fraca</div>
            </div>
            <button type="submit">Criar Nova Senha</button>
        </form>
        
        <div id="errorMessage" class="error-message"></div>
        <div id="successMessage" class="success-message"></div>
        <div class="loading" id="loading">Processando...</div>
    </div>

    <script type="module" src="redefinir-senha.js"></script>
</body>
</html>